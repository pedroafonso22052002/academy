name: docker-build
description: Replace-With-Your-Action-Description
inputs:
  image_name:
    description: "Docker image name"
    required: true
  tag_name:
    description: "Docker tag"
    required: false
  dockerfile_path:
    description: "Dockerfile path"
    required: false
    default: "./Dockerfile"

runs:
  using: composite
  steps:
    - run: |
        
        if [ -z "${{ inputs.tag_name }}" ]; then
            export TAG=$(date +%s)
        else
            export TAG="${{ inputs.tag_name }}"
        fi

        docker build \
          --file "${{ inputs.dockerfile_path }}" \
          --tag "${{ inputs.image_name }}:${TAG}" \
          .


      shell: bash